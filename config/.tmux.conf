# Skippr tmux configuration - optimized for mobile development (Gboard)

# ===========================================
# MOBILE KEYBINDINGS: qq + letter
# ===========================================
# Type qq quickly, then a letter:
#   qqe = Escape    qqc = Ctrl+C    qqd = Ctrl+D
#   qqz = Ctrl+Z    qqt = Tab       qqq = literal q
#
# First q switches to 'Q' table, second q switches to 'QQ' command table
# Timeout returns to normal if you pause

# Bind 'q' without prefix to enter Q table
bind-key -n q switch-client -T Q

# In Q table: another 'q' enters QQ command table, anything else sends 'q' + that key
bind-key -T Q q switch-client -T QQ
bind-key -T Q a send-keys q a
bind-key -T Q b send-keys q b
bind-key -T Q c send-keys q c
bind-key -T Q d send-keys q d
bind-key -T Q e send-keys q e
bind-key -T Q f send-keys q f
bind-key -T Q g send-keys q g
bind-key -T Q h send-keys q h
bind-key -T Q i send-keys q i
bind-key -T Q j send-keys q j
bind-key -T Q k send-keys q k
bind-key -T Q l send-keys q l
bind-key -T Q m send-keys q m
bind-key -T Q n send-keys q n
bind-key -T Q o send-keys q o
bind-key -T Q p send-keys q p
bind-key -T Q r send-keys q r
bind-key -T Q s send-keys q s
bind-key -T Q t send-keys q t
bind-key -T Q u send-keys q u
bind-key -T Q v send-keys q v
bind-key -T Q w send-keys q w
bind-key -T Q x send-keys q x
bind-key -T Q y send-keys q y
bind-key -T Q z send-keys q z
bind-key -T Q Space send-keys q Space
bind-key -T Q Enter send-keys q Enter
bind-key -T Q Escape send-keys q

# QQ command table - the actual commands
bind-key -T QQ e send-keys Escape           # qqe = Escape
bind-key -T QQ c send-keys C-c              # qqc = Ctrl+C  
bind-key -T QQ d send-keys C-d              # qqd = Ctrl+D
bind-key -T QQ z send-keys C-z              # qqz = Ctrl+Z
bind-key -T QQ t send-keys Tab              # qqt = Tab
bind-key -T QQ a send-keys C-a              # qqa = Ctrl+A (start of line)
bind-key -T QQ f send-keys C-e              # qqf = Ctrl+E (end of line)
bind-key -T QQ r send-keys C-r              # qqr = Ctrl+R (reverse search)
bind-key -T QQ l send-keys C-l              # qql = Clear screen
bind-key -T QQ q send-keys q                # qqq = literal q
bind-key -T QQ h split-window -h            # qqh = split horizontal
bind-key -T QQ v split-window -v            # qqv = split vertical
bind-key -T QQ n next-window                # qqn = next window
bind-key -T QQ p previous-window            # qqp = prev window
bind-key -T QQ w new-window                 # qqw = new window

# QQ help - qqx shows bindings (x = examine)
bind-key -T QQ x display-popup -E -w 40 -h 18 '\
echo ""; \
echo "  ╔════════════════════════════════╗"; \
echo "  ║  SKIPPR: qq + letter           ║"; \
echo "  ╠════════════════════════════════╣"; \
echo "  ║  qqe = Escape                  ║"; \
echo "  ║  qqc = Ctrl+C                  ║"; \
echo "  ║  qqd = Ctrl+D                  ║"; \
echo "  ║  qqz = Ctrl+Z                  ║"; \
echo "  ║  qqt = Tab                     ║"; \
echo "  ║  qqa = Start of line           ║"; \
echo "  ║  qqf = End of line             ║"; \
echo "  ║  qqr = Search history          ║"; \
echo "  ║  qql = Clear screen            ║"; \
echo "  ╠════════════════════════════════╣"; \
echo "  ║  qqh/v = Split h/v             ║"; \
echo "  ║  qqn/p = Next/prev window      ║"; \
echo "  ║  qqw = New window              ║"; \
echo "  ║  qqx = This help               ║"; \
echo "  ╚════════════════════════════════╝"; \
read -n 1'

# About - qqm shows tugboat
bind-key -T QQ m display-popup -E -w 36 -h 14 "echo ''; echo '     .  o ..'; echo '      o . o o.o'; echo '           ...oo'; echo '             __[]__'; echo '          __|_o_o_o\\__'; echo '          \"\"\"\"\"\"\"\"\"\"\"\"'; echo '           \\. ..  . /'; echo '      ^^^^^^^^^^^^^^^^^^^^'; echo ''; echo '       SKIPPR v0.0.1'; echo ''; read -n 1"

# Enable mouse support for mobile touch interactions
set -g mouse on

# Increase scrollback buffer size
set-option -g history-limit 100000

# Start window and pane numbering at 1 (easier to reach)
set -g base-index 1
setw -g pane-base-index 1

# Renumber windows when one is closed
set -g renumber-windows on

# Status bar configuration
set -g status-style 'bg=colour235 fg=colour255'
set -g status-left '[#S] '
set -g status-right '#[fg=colour255]%H:%M %d-%b'
set -g status-left-length 20
set -g status-right-length 40

# Current window status
setw -g window-status-current-style 'fg=colour0 bg=colour2 bold'
setw -g window-status-current-format ' #I:#W#F '

# Other window status
setw -g window-status-style 'fg=colour255 bg=colour236'
setw -g window-status-format ' #I:#W#F '

# Pane border
set -g pane-border-style 'fg=colour238'
set -g pane-active-border-style 'fg=colour2'


# Faster command sequences (no delay)
set -s escape-time 0

# Enable 256 colors
set -g default-terminal "screen-256color"

# Copy mode vim bindings
setw -g mode-keys vi
bind-key -T copy-mode-vi v send-keys -X begin-selection
bind-key -T copy-mode-vi y send-keys -X copy-selection-and-cancel

